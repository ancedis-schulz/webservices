<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>#{msg.projectsTitle}</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</h:head>
	<f:event listener="#{projects.init()}" type="preRenderView"></f:event>
	<body>
		<div class="content">
			<div class="header">
				<div class="user">
					<div class="container double">
						<h1>#{msg.loggedAs}</h1>
						<span class="username">#{projects.username}</span>
					</div>
				</div>
				<div id="actualPage">
					<div class="container">
						<h1>#{msg.projectsTitle}</h1>
					</div>
				</div>
			</div>
			<div class="navigation">
				<div class="container">
					<h1>#{msg.navigationTitle}</h1>
					<div id="menueContainer">
						<ul>
							<li>
								<h:outputLink value="profile.xhtml">
									<h:outputText value="#{msg.profileTitle}" />
								</h:outputLink>
							</li>
							<li>
								<h:outputLink value="search.xhtml">
									<h:outputText value="#{msg.searchTitle}" />
								</h:outputLink>
							</li>
							<li>
								<h:outputText value="#{msg.menueProjectHeadline}" id="projectsHeadline" />
								<ul id="projects">
									<li>
										<h:outputLink value="projects.xhtml">
											<h:outputText value="#{msg.menueAddProject}" />
										</h:outputLink>
									</li>
									<h:form>
										<ui:repeat var="entry" value="#{projects.listOfProjects}" varStatus="status">
											<li>
												<h:commandLink action="#{projects.openProject(entry)}">
													<h:outputText value="#{entry.mProjectName}" />
												</h:commandLink>
											</li>
										</ui:repeat>
									</h:form>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="contentForm">
				<div id="newProject" class="row">
					<div class="container double">
						<div id="addProject" class="block">
							<div class="inlineContainer">
								<h2>#{msg.addProject}</h2>
								<h:form>
									<h:outputLabel value="#{msg.projectName}" for="newProject" />
									<h:inputText value="#{projects.newProjectName}" id="newProject" name="projectName" />
									<h:commandButton type="submit" action="#{projects.addProject()}" value="#{msg.addProject}" />
								</h:form>
								<h:outputText class="resultString" value="#{projects.addProjectsResult}" />
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="container double">
						<div id="projectList" class="block">
							<div class="inlineContainer">
								<h2>#{msg.projectList}</h2>
								<h:form>
									<h:selectOneListbox class="table" value="#{projects.projectId}">
										<f:selectItems value="#{projects.projectList}"/>
									</h:selectOneListbox>
									<h:commandButton action="#{projects.deleteProject()}" value="#{msg.deleteProject}" />
								</h:form>
								<h:outputText class="resultString" value="#{projects.deleteProjectsResult}" />
							</div>
						</div>
					</div>
				</div>			
			</div>
		</div>
	</body>
</html>